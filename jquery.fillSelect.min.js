/*!
 *	Fill Select FIeld
 *
 *	@version 1.0.2
 *	@author Mitchell Petty <https://github.com/mpetty/ok-fillSelectField>
 */
!function(a){"use strict";a.fillSelectField={init:function(b,c){var d=this,e="string"==typeof c.method?c.method:!1,f="function"==typeof c.callback?c.callback:!1,g=!1;return"undefined"!=typeof this.ajaxMethods[e]?(g=this.ajaxMethods[c.method],g.results?this.getResults(g.results,b,f):a(document).on("fillfield_ajaxComplete.fillfield_"+g.id+".fillfield",function(){g=d.ajaxMethods[c.method],d.getResults(g.results,b,f),a(document).off("fillfield_ajaxComplete.fillfield_"+g.id+".fillfield")})):"undefined"!=typeof this.methods[e]&&this.getResults(this.methods[e].results,b,f),b},getResults:function(b,c,d){var e=[],f=[];if(b){e.push('<option value="">Select One</option>');for(var g in b)for(var h in b[g])f.push({value:h,name:b[g][h]});for(var g in f)e.push('<option value="'+f[g].value+'">'+f[g].name+"</option>");if(e=e.join(""),e.length)for(var g in b)a(a(c)[g]).empty().append(e);"function"==typeof d&&d.call(this)}},addMethod:function(b,c,d){var e=this,f={global:!1};"function"==typeof c?this.methods[b]={name:b,method:c,results:c()}:"object"==typeof c&&(this.ajaxEvCount++,this.ajaxMethods[b]={name:b,id:this.ajaxEvCount,method:d,ajaxComplete:!1,results:null,args:null},f.success=function(c){e.ajaxEvComplete++,e.ajaxMethods[b].args=c,e.ajaxMethods[b].ajaxComplete=!0,e.ajaxMethods[b].results=d(c),a(document).trigger("fillfield_ajaxComplete.fillfield_"+e.ajaxMethods[b].id+".fillfield"),a(document).trigger("fillfield_ajaxSuccess")},a.ajax(a.extend({},f,c)))},methods:{},ajaxMethods:{},ajaxEvCount:0,ajaxEvComplete:0},a.fn.fillSelectField=function(b){return this.each(function(){return a.fillSelectField.init(this,b)})}}(jQuery);